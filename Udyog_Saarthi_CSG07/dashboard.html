<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard ‚Äî Udyoga SƒÅrathi</title>
<link rel="stylesheet" href="assets/css/styles.css">

<style>
body {
  background: var(--bg);
  color: var(--text);
  font-family: system-ui,Segoe UI,Roboto;
}

/* Main Container */
.container {
  max-width: 1100px;
  margin: 40px auto;
  padding: 0 16px;
}

/* Dashboard Title */
h2 {
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 20px;
}

/* Grid Layout */
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 22px;
}

/* Dashboard Cards */
.card-box {
  background: var(--card);
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.06);
  transition: 0.25s ease;
}

.card-box:hover {
  transform: translateY(-4px);
}

/* Section Titles */
.section-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 10px;
}

/* Notifications */
.notification {
  background: rgba(42,102,240,0.15);
  padding: 12px;
  border-radius: 10px;
  margin-bottom: 10px;
  font-size: 15px;
}

/* Saved Jobs */
.saved-job {
  padding: 10px;
  border-radius: 10px;
  margin-bottom: 8px;
  background: rgba(0,0,0,0.08);
  cursor: pointer;
}

/* Activity Log */
.activity {
  font-size: 14px;
  padding: 8px;
  background: rgba(42,102,240,0.1);
  margin-bottom: 6px;
  border-radius: 8px;
}

/* Accessibility UI */
.slider-row {
  margin: 12px 0;
}

input[type="range"] {
  width: 100%;
}

.toggle-btn {
  padding: 8px 12px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  margin-top: 10px;
  background: #2a66f0;
  color: white;
}
</style>
</head>

<body>

<!-- HEADER -->
<header class="site-header">
  <div class="container header-inner">

    <!-- LOGO -->
    <div class="brand-wrap">
      <div class="logo">
        <img src="WhatsApp Image 2025-11-28 at 01.02.28_0285d031.jpg" class="brand-logo">
      </div>
      <div>
        <h1 class="brand">Udyoga SƒÅrathi</h1>
        <p class="tagline">Jobs & opportunities for persons with disabilities</p>
      </div>
    </div>

    <!-- MOBILE MENU BUTTON -->
    <button id="menuToggle" class="menu-toggle">‚ò∞</button>

    <!-- NAVIGATION -->
    <nav id="mainNav" class="main-nav">
      <a href="index.html" class="nav-link active">Jobs</a>
      <a href="my-learnings.html" class="nav-link">My Learnings</a>
      <a href="dashboard.html" class="nav-link">Dashboard</a>
      <a href="profile.html" id="authLink" class="nav-link">Profile</a>

      <div id="notifBubble" class="notif-badge" style="display:none"></div>

      <button id="themeToggle" class="nav-link" style="border:none;background:none;">üåô</button>
    </nav>

  </div>
</header>


<!-- MAIN CONTENT -->
<main class="container">
  <h2>Welcome back, <span id="username"></span> üëã</span></h2>

  <div class="dashboard-grid">

    <!-- NOTIFICATIONS -->
    <div class="card-box">
      <div class="section-title">üîî Notifications</div>
      <div id="notifications"></div>
    </div>

    <!-- SAVED JOBS -->
    <div class="card-box">
      <div class="section-title">‚ù§Ô∏è Saved Jobs</div>
      <div id="savedJobs"></div>
    </div>

    <!-- RECENT ACTIVITY -->
    <div class="card-box">
      <div class="section-title">üìå Recent Activity</div>
      <div id="activityLog"></div>
    </div>

    <!-- ACCESSIBILITY -->
    <div class="card-box">
      <div class="section-title">üß© Accessibility Settings</div>

      <label>Font Size</label>
      <input type="range" id="fontSlider" min="90" max="150" value="100" />

      <button id="highContrastBtn" class="toggle-btn">High Contrast Mode</button>
      <button id="dyslexiaBtn" class="toggle-btn">Dyslexia-Friendly Font</button>
    </div>

  </div>
</main>
<script>
const menuBtn = document.getElementById("menuToggle");
const nav = document.getElementById("mainNav");

menuBtn.addEventListener("click", () => {
  nav.classList.toggle("show");
});
</script>



<script>
// Load User
let user = JSON.parse(localStorage.getItem("loggedInUser"));
if (!user) {
  alert("Please login first");
  location.href = "login.html";
}
document.getElementById("username").innerText = user.name;

// --------------------------------------
// NOTIFICATIONS
// --------------------------------------
if (!user.notifications) user.notifications = [];
localStorage.setItem("loggedInUser", JSON.stringify(user));

function renderNotifications() {
  const box = document.getElementById("notifications");
  box.innerHTML = user.notifications.length
    ? user.notifications.map(n => `<div class="notification">${n}</div>`).join("")
    : "<p class='muted'>No new notifications</p>";
}
renderNotifications();

// --------------------------------------
// SAVED JOBS
// --------------------------------------
if (!user.savedJobs) user.savedJobs = [];
localStorage.setItem("loggedInUser", JSON.stringify(user));

function renderSavedJobs() {
  const box = document.getElementById("savedJobs");

  if (user.savedJobs.length === 0) {
    box.innerHTML = "<p class='muted'>No saved jobs</p>";
    return;
  }

  box.innerHTML = user.savedJobs
    .map(j => `<div class="saved-job">${j.title} ‚Äî ${j.company}</div>`)
    .join("");
}
renderSavedJobs();

// --------------------------------------
// ACTIVITY LOG
// --------------------------------------
if (!user.activityLog) user.activityLog = [];
localStorage.setItem("loggedInUser", JSON.stringify(user));

function renderActivity() {
  const box = document.getElementById("activityLog");

  if (user.activityLog.length === 0) {
    box.innerHTML = "<p class='muted'>No activity yet</p>";
    return;
  }

  box.innerHTML = user.activityLog
    .slice(-8)
    .reverse()
    .map(a => `<div class="activity">${a}</div>`)
    .join("");
}
renderActivity();

// --------------------------------------
// ACCESSIBILITY SETTINGS
// --------------------------------------
const fontSlider = document.getElementById("fontSlider");
const highContrastBtn = document.getElementById("highContrastBtn");
const dyslexiaBtn = document.getElementById("dyslexiaBtn");

let settings = JSON.parse(localStorage.getItem("accessibility")) || {
  fontSize: 100,
  highContrast: false,
  dyslexia: false
};

document.body.style.fontSize = settings.fontSize + "%";
fontSlider.value = settings.fontSize;

fontSlider.addEventListener("input", () => {
  settings.fontSize = fontSlider.value;
  localStorage.setItem("accessibility", JSON.stringify(settings));
  document.body.style.fontSize = settings.fontSize + "%";
});

// High contrast
highContrastBtn.addEventListener("click", () => {
  settings.highContrast = !settings.highContrast;
  document.body.style.filter = settings.highContrast ? "contrast(1.4)" : "none";
  localStorage.setItem("accessibility", JSON.stringify(settings));
});

// Dyslexia-friendly font
dyslexiaBtn.addEventListener("click", () => {
  settings.dyslexia = !settings.dyslexia;
  document.body.style.fontFamily = settings.dyslexia 
    ? "OpenDyslexic, Arial, sans-serif"
    : "system-ui,Segoe UI,Roboto";
  localStorage.setItem("accessibility", JSON.stringify(settings));
});

// --------------------------------------
// Theme Toggle
// --------------------------------------
const savedTheme = localStorage.getItem("theme") || "light";
if (savedTheme === "dark") document.body.classList.add("dark");
document.getElementById("themeToggle").textContent =
  savedTheme === "dark" ? "‚òÄÔ∏è" : "üåô";

document.getElementById("themeToggle").addEventListener("click", () => {
  const isDark = document.body.classList.toggle("dark");
  localStorage.setItem("theme", isDark ? "dark" : "light");
  document.getElementById("themeToggle").textContent = isDark ? "‚òÄÔ∏è" : "üåô";
});
</script>
<script src="assets/js/lang.js"></script>


</body>
</html>
